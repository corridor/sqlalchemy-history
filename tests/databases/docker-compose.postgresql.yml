services:
    cor_postgres:
        image: postgres:11.7
        container_name: postgres
        environment:
            POSTGRES_DB: testdb
            POSTGRES_USER: testuser
            POSTGRES_PASSWORD: testpassword
            # You can use `postgres` as user and `$POSTGRES_PASSWORD` value to login as root
        ports:
            - "5432:5432"
        # If you want to persist data for DB for next run use this
        # volumes:
        #   - ${PWD}/data/postgresql/:/var/lib/postgresql/data
        healthcheck:
            test:
                [
                    "CMD",
                    "sh",
                    "-c",
                    "pg_isready -U $$POSTGRES_USER -h $$(hostname -i)",
                ]
            interval: 5s
            retries: 5
            start_period: 20s
            timeout: 10s
